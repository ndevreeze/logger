<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ndevreeze.logger documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Logger</span> <span class="project-version">0.4.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="ndevreeze.logger.html"><div class="inner"><span>ndevreeze.logger</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ndevreeze.logger.html#var-close"><div class="inner"><span>close</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-current-date-time"><div class="inner"><span>current-date-time</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-debug"><div class="inner"><span>debug</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-fatal"><div class="inner"><span>fatal</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-get-logger"><div class="inner"><span>get-logger</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init-internal"><div class="inner"><span>init-internal</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init-with-map"><div class="inner"><span>init-with-map</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-log-fn"><div class="inner"><span>log-fn</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-log-format"><div class="inner"><span>log-format</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-loggers"><div class="inner"><span>loggers</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-replace-letter"><div class="inner"><span>replace-letter</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-to-log-file"><div class="inner"><span>to-log-file</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-to-pattern"><div class="inner"><span>to-pattern</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-trace"><div class="inner"><span>trace</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-warn"><div class="inner"><span>warn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ndevreeze.logger</h1><div class="doc"><div class="markdown"><p>Simple logging functions. Similar to onelog, and also used clj-logging-config for inspiration. Now use a logger per <em>err</em> stream. <em>err</em> gets a new binding for each nRepl session, and so for each script run.</p></div></div><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close)</code></div><div class="doc"><div class="markdown"><p>Close the currently active logger and appenders. Connected to <em>err</em></p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L83">view source</a></div></div><div class="public anchor" id="var-current-date-time"><h3>current-date-time</h3><div class="usage"><code>(current-date-time)</code></div><div class="doc"><div class="markdown"><p>Return current date and time in format yyyy-mm-ddTHH-MM-SS, based on current timezone</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L145">view source</a></div></div><div class="public anchor" id="var-debug"><h3>debug</h3><div class="usage"><code>(debug &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for debug</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L77">view source</a></div></div><div class="public anchor" id="var-error"><h3>error</h3><div class="usage"><code>(error &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for error</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L80">view source</a></div></div><div class="public anchor" id="var-fatal"><h3>fatal</h3><div class="usage"><code>(fatal &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for fatal</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L81">view source</a></div></div><div class="public anchor" id="var-get-logger"><h3>get-logger</h3><div class="usage"><code>(get-logger stream)</code></div><div class="doc"><div class="markdown"><p>Get logger associated with (error) stream</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L35">view source</a></div></div><div class="public anchor" id="var-info"><h3>info</h3><div class="usage"><code>(info &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for info</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L78">view source</a></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init par1)</code><code>(init logfile loglevel)</code><code>(init)</code></div><div class="doc"><div class="markdown"><p>Initialises logging, possibly with a log-file.</p>
<p>If called with: - 0 parameters - init with no logfile at level :info - 1 parameter that is a map - see below. - 1 parameter that is a string or file - logfile, level will be :info - 2 parameters - a logfile and a log level</p>
<p>level - log level like :info, :debug file - give an explicit full path. Default is nil, use pattern pattern - use a pattern for the log file path, see below location - some pattern defaults/shortcuts, :home, :cwd, :script, :temp,  default is nil name - script name, “script” bij default cwd - give an explicit current-working-dir, default is nil overwrite - boolean, overwrite an existing log file, default false</p>
<p>if all of file, pattern and location are nil, do not create a logfile, just log to the console.</p>
<p>To use in pattern:  - %h = home dir  - %c = current dir  - %s = script dir (TBD)  - %t = temp dir (/tmp, or c:/tmp)  - %n = script name  - %d = datetime, as yyyy-mm-ddTHH-MM-SS</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L211">view source</a></div></div><div class="public anchor" id="var-init-internal"><h3>init-internal</h3><div class="usage"><code>(init-internal logfile loglevel)</code><code>(init-internal logfile)</code><code>(init-internal)</code></div><div class="doc"><div class="markdown"><p>Sets a default, appwide log adapter. Optional arguments set the default logfile and loglevel. If no logfile is provided, logs to stderr only. Should be able to handle multiple init calls. Return logger created (or re-used)</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L117">view source</a></div></div><div class="public anchor" id="var-init-with-map"><h3>init-with-map</h3><div class="usage"><code>(init-with-map {:keys [level file pattern location overwrite], :as opts, :or {level :info, file nil, pattern "%h/log/%n-%d.log", location nil, overwrite false}})</code></div><div class="doc"><div class="markdown"><p>Initialises logging, possibly with a log-file.</p>
<p>level - log level like :info, :debug file - give an explicit full path. Default is nil, use pattern pattern - use a pattern for the log file path, see below location - some pattern defaults/shortcuts, :home, :cwd, :script, :temp,  default is nil name - script name, “script” bij default cwd - give an explicit current-working-dir, default is nil overwrite - boolean, overwrite an existing log file, default false</p>
<p>if all of file, pattern and location are nil, do not create a logfile, just log to the console.</p>
<p>To use in pattern:  - %h = home dir  - %c = current dir  - %s = script dir (TBD)  - %t = temp dir (/tmp, or c:/tmp)  - %n = script name  - %d = datetime, as yyyy-mm-ddTHH-MM-SS</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L173">view source</a></div></div><div class="public anchor" id="var-log"><h3>log</h3><div class="usage"><code>(log logger level forms)</code><code>(log level forms)</code></div><div class="doc"><div class="markdown"><p>log to the logger associated with the current <em>err</em> stream</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L60">view source</a></div></div><div class="public anchor" id="var-log-fn"><h3>log-fn</h3><h4 class="type">macro</h4><div class="usage"><code>(log-fn level)</code></div><div class="doc"><div class="markdown"><p>Macro to create a logging function for a level</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L68">view source</a></div></div><div class="public anchor" id="var-log-format"><h3>log-format</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Log format with timestamp, log-level, throwable and message</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L16">view source</a></div></div><div class="public anchor" id="var-loggers"><h3>loggers</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of Logger objects, keyed by <em>err</em> streams</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L20">view source</a></div></div><div class="public anchor" id="var-replace-letter"><h3>replace-letter</h3><div class="usage"><code>(replace-letter {:keys [cwd name], :or {name "script"}} letter)</code></div><div class="doc"><div class="markdown"><p>Replace %h pattern etc with the actual values</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L155">view source</a></div></div><div class="public anchor" id="var-to-log-file"><h3>to-log-file</h3><div class="usage"><code>(to-log-file opts pattern)</code></div><div class="doc"><div class="markdown"><p>Create a log file name based on given options and pattern</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L167">view source</a></div></div><div class="public anchor" id="var-to-pattern"><h3>to-pattern</h3><div class="usage"><code>(to-pattern pattern)</code></div><div class="doc"><div class="markdown"><p>Convert pattern shortcut to an actual pattern for a log file</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L137">view source</a></div></div><div class="public anchor" id="var-trace"><h3>trace</h3><div class="usage"><code>(trace &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for trace</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L76">view source</a></div></div><div class="public anchor" id="var-warn"><h3>warn</h3><div class="usage"><code>(warn &amp; forms__7449__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for warn</p></div></div><div class="src-link"><a href="http://github.com/ndevreeze/logger/blob/0.4.0/src/ndevreeze/logger.clj#L79">view source</a></div></div></div></body></html>