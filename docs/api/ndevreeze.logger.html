<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ndevreeze.logger documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Logger</span> <span class="project-version">0.6.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ndevreeze</span></div></div></li><li class="depth-2 current"><a href="ndevreeze.logger.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logger</span></div></a></li><li class="depth-3"><a href="ndevreeze.logger.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ndevreeze.logger.html#var-close"><div class="inner"><span>close</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-debug"><div class="inner"><span>debug</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-def-log-function"><div class="inner"><span>def-log-function</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-fatal"><div class="inner"><span>fatal</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-get-logger"><div class="inner"><span>get-logger</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init-internal"><div class="inner"><span>init-internal</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-init-with-map"><div class="inner"><span>init-with-map</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-to-file-location-pattern"><div class="inner"><span>to-file-location-pattern</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-trace"><div class="inner"><span>trace</span></div></a></li><li class="depth-1"><a href="ndevreeze.logger.html#var-warn"><div class="inner"><span>warn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ndevreeze.logger</h1><div class="doc"><div class="markdown"><p>Simple logging functions. Similar to onelog, and also used clj-logging-config for inspiration. Now use a logger per <em>err</em> stream. <em>err</em> gets a new binding for each nRepl session, and so for each script that will run.</p></div></div><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close)</code></div><div class="doc"><div class="markdown"><p>Close the currently active logger and appenders. Connected to <em>err</em>. Also unregister the logger</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L93">view source</a></div></div><div class="public anchor" id="var-debug"><h3>debug</h3><div class="usage"><code>(debug &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for debug</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L80">view source</a></div></div><div class="public anchor" id="var-def-log-function"><h3>def-log-function</h3><h4 class="type">macro</h4><div class="usage"><code>(def-log-function level)</code></div><div class="doc"><div class="markdown"><p>Macro to create a logging function for a level</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L70">view source</a></div></div><div class="public anchor" id="var-error"><h3>error</h3><div class="usage"><code>(error &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for error</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L83">view source</a></div></div><div class="public anchor" id="var-fatal"><h3>fatal</h3><div class="usage"><code>(fatal &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for fatal</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L84">view source</a></div></div><div class="public anchor" id="var-get-logger"><h3>get-logger</h3><div class="usage"><code>(get-logger stream)</code></div><div class="doc"><div class="markdown"><p>Get logger associated with (error) stream</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L38">view source</a></div></div><div class="public anchor" id="var-info"><h3>info</h3><div class="usage"><code>(info &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for info</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L81">view source</a></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init par1)</code><code>(init logfile loglevel)</code><code>(init)</code></div><div class="doc"><div class="markdown"><p>Initialises logging, possibly with a log-file.</p>
<p>If called with: - 0 parameters - init with no logfile at level :info - 1 parameter that is a map - see below. - 1 parameter that is a string or file - logfile, level will be :info - 2 parameters - a logfile and a log level</p>
<p>level - log level like :info, :debug file - give an explicit full path. Default is nil, use pattern pattern - use a pattern for the log file path, see below location - some pattern defaults/shortcuts, :home, :cwd, :script, :temp,  Or a directory as string. default is nil name - script name, “script” bij default cwd - give an explicit current-working-dir, default is nil overwrite - boolean, overwrite an existing log file, default false</p>
<p>if all of file, pattern and location are nil, do not create a logfile, just log to the console.</p>
<p>To use in pattern:  - %h = home dir  - %c = current dir  - %s = script dir (TBD)  - %t = temp dir (/tmp, or c:/tmp)  - %n = script name  - %d = datetime, as yyyy-mm-ddTHH-MM-SS</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L262">view source</a></div></div><div class="public anchor" id="var-init-internal"><h3>init-internal</h3><div class="usage"><code>(init-internal logfile loglevel)</code><code>(init-internal logfile)</code><code>(init-internal)</code></div><div class="doc"><div class="markdown"><p>Sets a default, appwide log adapter. Optional arguments set the default logfile and loglevel. If no logfile is provided, logs to stderr only. Should be able to handle multiple init calls. Return map with keys for logger created (or re-used) and logfile name. Also register-logger!, so it can be deregistered when done. Public, used in logger_test.clj</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L154">view source</a></div></div><div class="public anchor" id="var-init-with-map"><h3>init-with-map</h3><div class="usage"><code>(init-with-map {:keys [level file pattern location overwrite], :as opts, :or {level :info, file nil, pattern "%h/log/%n-%d.log", location nil, overwrite false}})</code></div><div class="doc"><div class="markdown"><p>Initialises logging, possibly with a log-file.</p>
<p>level - log level like :info, :debug file - give an explicit full path. Default is nil, use pattern pattern - use a pattern for the log file path, see below location - some pattern defaults/shortcuts, :home, :cwd, :script, :temp,  default is nil name - script name, “script” bij default cwd - give an explicit current-working-dir, default is nil overwrite - boolean, overwrite an existing log file, default false</p>
<p>if all of file, pattern and location are nil, do not create a logfile, just log to the console.</p>
<p>Return map with keys for logger created and logfile name. logfile contains forward slashes only, even on Windows.</p>
<p>To use in pattern:  - %h = home dir  - %c = current dir  - %s = script dir (TBD)  - %t = temp dir (/tmp, or c:/tmp)  - %n = script name  - %d = datetime, as yyyy-mm-ddTHH-MM-SS</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L221">view source</a></div></div><div class="public anchor" id="var-log"><h3>log</h3><div class="usage"><code>(log logger level forms)</code><code>(log level forms)</code></div><div class="doc"><div class="markdown"><p>log to the logger associated with the current <em>err</em> stream</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L62">view source</a></div></div><div class="public anchor" id="var-to-file-location-pattern"><h3>to-file-location-pattern</h3><div class="usage"><code>(to-file-location-pattern location)</code></div><div class="doc"><div class="markdown"><p>Convert location (pattern shortcut) to an actual pattern for a log file. Or if location is not a keyword (but a string), treat it as a directory. Public, used in logger_test.clj</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L181">view source</a></div></div><div class="public anchor" id="var-trace"><h3>trace</h3><div class="usage"><code>(trace &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for trace</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L79">view source</a></div></div><div class="public anchor" id="var-warn"><h3>warn</h3><div class="usage"><code>(warn &amp; forms__7519__auto__)</code></div><div class="doc"><div class="markdown"><p>Log function for warn</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/logger/blob/master/src/ndevreeze/logger.clj#L82">view source</a></div></div></div></body></html>